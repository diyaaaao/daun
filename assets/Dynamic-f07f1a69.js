import{f as u,r as y,j as g,o as c,c as _,d as n,u as v,i as p,t as r,k as f,a as d,l as R,m as D,_ as I,F as $,h as b,b as k,w as S,z as w,A as B,B as z}from"./index-0d204d03.js";/* empty css              */const A={class:"intro"},j=["src"],F={class:"intro__block"},L={class:"intro__block-left"},U={class:"intro__block-left-title"},C={class:"intro__block-left-text"},M={class:"intro__block-left-descr"},N={class:"intro__block-right"},O={class:"intro__block-right-img",alt:""},V={class:"intro__block-actors"},Y=n("h1",{class:"intro__block-actors-name"},"В главных ролях",-1),E={__name:"Intro",props:{item:Object,type:String},setup(s){const e=s,o=u(()=>{let t=e.type=="movie"?"release_date":e.type=="tv"?"first_air_date":"";return new Date(e.item[t]).getFullYear()}),a=u(()=>e.item.genres.reduce((t,i)=>t+", "+i.name,"")),m=u(()=>{let t=e.type=="movie"?e.item.runtime:e.type=="tv"?e.item.episode_run_time[0]:"",i=Math.floor(t/60),l=t%60;return i==0?`${l}m`:`${i}h ${l}m`});return(t,i)=>{const l=y("Actors"),h=g("lazy");return c(),_("div",A,[n("img",{src:v(p)+s.item.backdrop_path,alt:"",class:"intro__img"},null,8,j),n("div",F,[n("div",L,[n("h1",U,r(s.item.title||s.item.name),1),n("p",C,r(s.item.overview),1),n("p",M,[n("span",null,r(o.value),1),n("span",null,r(a.value),1),n("span",null,r(m.value),1)])]),n("div",N,[f(n("img",O,null,512),[[h,v(p)+s.item.poster_path]])]),n("div",V,[Y,d(l,{type:s.type,id:s.item.id,count:6},null,8,["type","id"])])])])}}},G=R("rec",{state:()=>({movieRecs:null,tvRecs:null,personRecs:null}),actions:{async getRecs({type:s,id:e}){try{let o=await D.get(`${s}/${e}/recommendations?language=ru-RU`);s=="movie"?(this.movieRecs=o.data.results,console.log(o.data.results)):s=="tv"?(this.tvRecs=o.data.results,console.log(o.data.results)):s=="person"&&(this.personRecs=o.data.results)}catch(o){console.log(o)}}}});const T={class:"info"},q={class:"container"},H={class:"info__box"},J={class:"info__box-item-name"},K={class:"info__box-item-value"},P={__name:"Info",props:{type:String,item:Object},setup(s){const e=s,o=u(()=>[{name:"Бюджет",value:`${e.item.budget?"$"+e.item.budget:"Неизвестно"}`},{name:"Сборы",value:`${e.item.revenue?"$"+e.item.revenue:"Неизвестно"}`},{name:"Статус",value:`${e.item.status?e.item.status:"Неизвестно"} `},{name:"Исходное название",value:e.item.title||e.item.name||"Неизвестно"}]);return(a,m)=>(c(),_("div",T,[n("div",q,[n("div",H,[(c(!0),_($,null,b(o.value,t=>(c(),_("div",{class:"info__box-item",key:t.name},[n("span",J,r(t.name),1),n("span",K,r(t.value||"Ничего"),1)]))),128))])])]))}},Q=I(P,[["__scopeId","data-v-594cbe94"]]);const W={class:"rec"},X={class:"container"},Z=n("h2",{class:"rec__title"},"Рекомендуем",-1),ee={class:"rec__list"},te={alt:"",class:"rec__list-item-img"},se={class:"rec__list-item-title"},ne={__name:"Rec",props:{type:String,recData:Array},setup(s){return(e,o)=>{const a=y("router-link"),m=g("lazy");return c(),_("div",W,[n("div",X,[Z,n("div",ee,[(c(!0),_($,null,b(s.recData,t=>(c(),k(a,{to:`${t.id}`,class:"rec__list-item",key:t.id},{default:S(()=>[f(n("img",te,null,512),[[m,v(p)+t.backdrop_path]]),n("h1",se,r(t.title||t.name),1)]),_:2},1032,["to"]))),128))])])])}}};const oe={key:0,class:"main__dynamic"},ae={__name:"Dynamic",props:{type:String},setup(s){const e=s,o=w(),a=G();a.getRecs({type:e.type,id:o.params.id});const m=u(()=>{let l=e.type=="movie"?a.movieRecs:e.type=="tv"?a.tvRecs:"";if(l)return l.splice(0,4)}),t=B();t.getItemId({type:e.type,id:o.params.id}),console.log(o.params.id);const i=u(()=>e.type=="movie"?t.movie:e.type=="tv"?t.tv:"");return z(()=>{t.movie=t.tv=null}),(l,h)=>{const x=y("Loader");return i.value?(c(),_("div",oe,[d(E,{item:i.value,type:s.type},null,8,["item","type"]),d(Q,{item:i.value,type:s.type},null,8,["item","type"]),d(ne,{recData:m.value,type:s.type},null,8,["recData","type"])])):(c(),k(x,{key:1}))}}};export{ae as _};
